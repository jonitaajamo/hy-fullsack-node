{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Numbers.js","services/numbers.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","react_default","a","createElement","value","filter","onChange","PersonForm","onSubmit","addPerson","newName","handlePersonChange","newNumber","handleNumberChange","type","Person","name","number","onClick","window","confirm","handleDeleteButtonClicked","id","alert","Numbers","filteredList","map","person","components_Person","key","persons","baseUrl","numbers","axios","get","newObject","post","put","concat","then","response","data","delete","Notification","errorMessage","notificationMessage","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","setFilteredList","_useState11","_useState12","setErrorMessage","_useState13","_useState14","setNotificationMessage","useEffect","NumberService","updateNumber","personToUpdate","catch","error","setTimeout","components_Notification","components_Filter","event","newFilter","target","newFilteredList","toLowerCase","includes","components_PersonForm","preventDefault","personObject","some","find","components_Numbers","updatedPersons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.facdbfb0.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => (\n    <div>\n        <h3>Rajaa</h3>\n        rajaa näytettäviä:\n        <input value={props.filter} onChange={props.onChange}/>\n    </div>\n)\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => (\n    <div>\n        <h3>Lisää uusi</h3>\n        <form onSubmit={props.addPerson}>\n            <div>\n                nimi:\n                <input value={props.newName} onChange={props.handlePersonChange}/>\n                <br/>\n                numero:\n                <input value={props.newNumber} onChange={props.handleNumberChange}/>\n            </div>\n            <div>\n                <button type=\"submit\">lisää</button>\n            </div>\n        </form>\n    </div>\n)\n\nexport default PersonForm","import React from 'react'\n\nconst Person = (props) => (\n    <li>\n        {props.name}{' '}{props.number}\n        <button\n            onClick={() => window.confirm(\"Poistetaanko \" + props.name)\n            ? props.handleDeleteButtonClicked(props.id)\n            : window.alert(\"Henkilöä \" + props.name + \" ei poistettu\")}>delete</button>\n    </li>\n)\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Numbers = (props) => (\n    <div>\n        <h3>Numerot</h3>\n        <ul>\n            {props.filter\n                ? props\n                    .filteredList\n                    .map(person => <Person\n                        key={person.id}\n                        id={person.id}\n                        name={person.name}\n                        number={person.number}\n                        handleDeleteButtonClicked={props.handleDeleteButtonClicked}/>)\n                : props\n                    .persons\n                    .map(person => <Person\n                        key={person.id}\n                        id={person.id}\n                        name={person.name}\n                        number={person.number}\n                        handleDeleteButtonClicked={props.handleDeleteButtonClicked}/>)}\n        </ul>\n    </div>\n)\n\nexport default Numbers","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n    return axios.post(baseUrl, newObject)\n}\n\nconst update = (newObject) => {\n    const request = axios.put(`${baseUrl}/${newObject.id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst deleteNumber = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default {\n    getAll,\n    create,\n    update,\n    deleteNumber\n}","import React from 'react'\n\nconst Notification = (props) => {\n    if (props.errorMessage === null && props.notificationMessage === null) {\n        return null\n    }\n\n    if (props.notificationMessage) {\n        return (\n            <div className=\"notification\">\n                {props.notificationMessage}\n            </div>\n        )\n    } else {\n        return (\n            <div className=\"error\">\n                {props.errorMessage}\n            </div>\n        )\n    }\n\n}\n\nexport default Notification","import React, {useState, useEffect} from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Numbers from './components/Numbers'\nimport NumberService from './services/numbers'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons,\n    setPersons] = useState([])\n\n  const [newName,\n    setNewName] = useState('')\n\n  const [newNumber,\n    setNewNumber] = useState('')\n\n  const [filter,\n    setFilter] = useState('')\n\n  const [filteredList,\n    setFilteredList] = useState('')\n\n  const [errorMessage,\n    setErrorMessage] = useState(null)\n\n  const [notificationMessage,\n    setNotificationMessage] = useState(null)\n\n  useEffect(() => {\n    NumberService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.some(person => person.name === newName)) {\n      if (window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n        const personToUpdate = persons.find(person => person.name === newName)\n        personToUpdate.number = newNumber\n        updateNumber(personToUpdate)\n      }\n    } else {\n      NumberService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n          setNotificationMessage(`Lisättiin ${response.data.name}`)\n        })\n        .catch(error => {\n          setErrorMessage('Henkilön luonti epäonnistui')\n        })\n    }\n\n    setTimeout(() => {\n      setNotificationMessage(null)\n      setErrorMessage(null)\n    }, 5000);\n  }\n\n  const handlePersonChange = (event) => {\n    event.preventDefault()\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    event.preventDefault()\n    setNewNumber(event.target.value)\n  }\n\n  const updateNumber = (personToUpdate) => {\n    NumberService\n      .update(personToUpdate)\n      .then(response => {\n        setPersons(persons.map(person => person.id !== personToUpdate.id\n          ? person\n          : response))\n        setNotificationMessage(`Henkilön ${personToUpdate.name} numero vaihdettu`)\n      })\n      .catch(error => setErrorMessage(\"Numeron vaihto epäonnistui\"));\n\n    setNewNumber('')\n    setNewName('')\n    setTimeout(() => {\n      setNotificationMessage(null)\n      setErrorMessage(null)\n    }, 5000);\n  }\n\n  const handleFilterChange = (event) => {\n    const newFilter = event.target.value\n    setFilter(newFilter)\n    const newFilteredList = persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n    setFilteredList(newFilteredList)\n  }\n\n  const handleDeleteButtonClicked = (id) => {\n    NumberService\n      .deleteNumber(id)\n      .then(response => {\n        const updatedPersons = persons.filter(person => person.id !== id)\n        setPersons(updatedPersons)\n        setNotificationMessage(`Henkilö poistettu onnistuneesti`)\n      })\n      .catch(error => {\n        setErrorMessage('Henkilö oli jo poistettu')\n      });\n    setTimeout(() => {\n      setNotificationMessage(null)\n      setErrorMessage(null)\n    }, 5000);\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Notification\n        errorMessage={errorMessage}\n        notificationMessage={notificationMessage}/>\n      <Filter filter={filter} onChange={handleFilterChange}/>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handlePersonChange={handlePersonChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}/>\n      <Numbers\n        persons={persons}\n        filteredList={filteredList}\n        filter={filter}\n        handleDeleteButtonClicked={handleDeleteButtonClicked}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n    <App/>, document.getElementById('root'))"],"sourceRoot":""}