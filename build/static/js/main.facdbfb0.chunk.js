(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,n,t){e.exports=t(39)},37:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),l=t(11),i=t.n(l),r=t(2),o=function(e){return u.a.createElement("div",null,u.a.createElement("h3",null,"Rajaa"),"rajaa n\xe4ytett\xe4vi\xe4:",u.a.createElement("input",{value:e.filter,onChange:e.onChange}))},c=function(e){return u.a.createElement("div",null,u.a.createElement("h3",null,"Lis\xe4\xe4 uusi"),u.a.createElement("form",{onSubmit:e.addPerson},u.a.createElement("div",null,"nimi:",u.a.createElement("input",{value:e.newName,onChange:e.handlePersonChange}),u.a.createElement("br",null),"numero:",u.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))))},m=function(e){return u.a.createElement("li",null,e.name," ",e.number,u.a.createElement("button",{onClick:function(){return window.confirm("Poistetaanko "+e.name)?e.handleDeleteButtonClicked(e.id):window.alert("Henkil\xf6\xe4 "+e.name+" ei poistettu")}},"delete"))},s=function(e){return u.a.createElement("div",null,u.a.createElement("h3",null,"Numerot"),u.a.createElement("ul",null,e.filter?e.filteredList.map(function(n){return u.a.createElement(m,{key:n.id,id:n.id,name:n.name,number:n.number,handleDeleteButtonClicked:e.handleDeleteButtonClicked})}):e.persons.map(function(n){return u.a.createElement(m,{key:n.id,id:n.id,name:n.name,number:n.number,handleDeleteButtonClicked:e.handleDeleteButtonClicked})})))},f=t(3),d=t.n(f),h="http://localhost:3001/api/persons",b=function(){return d.a.get(h)},v=function(e){return d.a.post(h,e)},E=function(e){return d.a.put("".concat(h,"/").concat(e.id),e).then(function(e){return e.data})},p=function(e){return d.a.delete("".concat(h,"/").concat(e))},g=function(e){return null===e.errorMessage&&null===e.notificationMessage?null:e.notificationMessage?u.a.createElement("div",{className:"notification"},e.notificationMessage):u.a.createElement("div",{className:"error"},e.errorMessage)},j=function(){var e=Object(a.useState)([]),n=Object(r.a)(e,2),t=n[0],l=n[1],i=Object(a.useState)(""),m=Object(r.a)(i,2),f=m[0],d=m[1],h=Object(a.useState)(""),j=Object(r.a)(h,2),k=j[0],w=j[1],C=Object(a.useState)(""),O=Object(r.a)(C,2),N=O[0],D=O[1],S=Object(a.useState)(""),B=Object(r.a)(S,2),M=B[0],L=B[1],P=Object(a.useState)(null),y=Object(r.a)(P,2),H=y[0],T=y[1],J=Object(a.useState)(null),x=Object(r.a)(J,2),I=x[0],R=x[1];Object(a.useEffect)(function(){b().then(function(e){l(e.data)})},[]);var q=function(e){E(e).then(function(n){l(t.map(function(t){return t.id!==e.id?t:n})),R("Henkil\xf6n ".concat(e.name," numero vaihdettu"))}).catch(function(e){return T("Numeron vaihto ep\xe4onnistui")}),w(""),d(""),setTimeout(function(){R(null),T(null)},5e3)};return u.a.createElement("div",null,u.a.createElement("h2",null,"Puhelinluettelo"),u.a.createElement(g,{errorMessage:H,notificationMessage:I}),u.a.createElement(o,{filter:N,onChange:function(e){var n=e.target.value;D(n);var a=t.filter(function(e){return e.name.toLowerCase().includes(n.toLowerCase())});L(a)}}),u.a.createElement(c,{addPerson:function(e){e.preventDefault();var n={name:f,number:k};if(t.some(function(e){return e.name===f})){if(window.confirm("".concat(f," on jo luettelossa, korvataanko vanha numero uudella?"))){var a=t.find(function(e){return e.name===f});a.number=k,q(a)}}else v(n).then(function(e){l(t.concat(e.data)),d(""),w(""),R("Lis\xe4ttiin ".concat(e.data.name))}).catch(function(e){T("Henkil\xf6n luonti ep\xe4onnistui")});setTimeout(function(){R(null),T(null)},5e3)},newName:f,handlePersonChange:function(e){e.preventDefault(),d(e.target.value)},newNumber:k,handleNumberChange:function(e){e.preventDefault(),w(e.target.value)}}),u.a.createElement(s,{persons:t,filteredList:M,filter:N,handleDeleteButtonClicked:function(e){p(e).then(function(n){var a=t.filter(function(n){return n.id!==e});l(a),R("Henkil\xf6 poistettu onnistuneesti")}).catch(function(e){T("Henkil\xf6 oli jo poistettu")}),setTimeout(function(){R(null),T(null)},5e3)}}))};t(37);i.a.render(u.a.createElement(j,null),document.getElementById("root"))}},[[12,2,1]]]);
//# sourceMappingURL=main.facdbfb0.chunk.js.map